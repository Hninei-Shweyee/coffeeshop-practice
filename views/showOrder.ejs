<!DOCTYPE html>
<html lang="en" dir="ltr">
  <%- include('./component/head.ejs') %>
  <body>
    <%- include('./component/nav.ejs') %>
    <h1>Show Order</h1>
    <div class="blogs content">
      <%  
      if (searching.length > 0) { %>
        <table class="appointments-table">
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Order Date</th>
              <th>Customer Name</th>
              <th>Product Name</th>
              <th>Quantity</th>
              <th>Phone Number</th>
            </tr>
          </thead>
          <tbody>
            <% searching.forEach((search) => { %>
            <tr>
              
              <td><%= search.order_id %></td>
              <td><%= formatDate(search.order_date) %></td>
              <td><%= search.customer_name %></td>
              <td><%= search.product_name %></td>
              <td><%= search.quantity %></td>
              <td><%= search.contact_info %></td>
              <td><a href="/ordertable/<%= search.order_id %>/update/">Update</a></td>
                <td><a href="/ordertable/delete/<%= search.order_id %>/" class="delete"  data-doc="<%= search.order_id%> "> Delete</a></td>
            </tr>
            <% }); %>
          </tbody>
        </table>
      <% } else { %>
        <h2>There is nothing to display.</h2>
      <% } %>
    </div>
    <%- include('./component/footer.ejs') %>
    <style>
      
      /* Add basic table styles for borders */
      .appointments-table {
        width: 100%;
        border-collapse: collapse;
      }
      .appointments-table th, .appointments-table td {
        border: 1px solid #2b2b2b;
        padding: 8px;
        text-align: left;
      }
    
      .appointments-table th {
        background-color: lightgreen;
      }
      
    
    </style>
    <% 
    function formatDate(dateString) {
      const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
      const date = new Date(dateString);
      return date.toLocaleDateString('en-GB', options);
    }
   
  %>

  </body>
</html>
